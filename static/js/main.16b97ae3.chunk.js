(this.webpackJsonpcook=this.webpackJsonpcook||[]).push([[0],{26:function(e,t,a){e.exports={choice:"FilterItem_choice__GwWFz"}},27:function(e,t,a){e.exports={ingredience:"List_ingredience__2jTjf"}},29:function(e,t,a){e.exports=a(51)},34:function(e,t,a){},36:function(e,t,a){e.exports={Home:"Home_Home__oeVgq"}},38:function(e,t,a){e.exports={App:"App_App__zNe5s"}},39:function(e,t,a){},40:function(e,t,a){e.exports={FoodForm:"Form_FoodForm__3UX9q"}},46:function(e,t,a){e.exports={IngredienceFormGroup:"IngredienceFormGroup_IngredienceFormGroup__3U5b1"}},47:function(e,t,a){e.exports={StepFormGroup:"StepFormGroup_StepFormGroup__O1k5K"}},48:function(e,t,a){e.exports={FoodDetail:"Detail_FoodDetail__TSi04"}},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),l=(a(34),a(4)),i=a.n(l),s=a(14),m=a(6),d=a(7),u=a(9),h=a(8);a(36),a(37),r.a.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(38);var p=a(2),f=(a(39),a(26)),v=a.n(f),b=function(e){return JSON.parse(e.content)};function g(e){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/food");case 2:return t=e.sent,e.abrupt("return",b(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/detail/"+t);case 2:return a=e.sent,e.abrupt("return",b(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return e.filter((function(e){if(t.includes(e.Category))return e}))}function S(){return(S=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/delete/"+t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/filter/"+t);case 2:return a=e.sent,e.abrupt("return",a.content);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).choice=r.a.createRef(),n.area=r.a.createRef(),n.showChoice=n.showChoice.bind(Object(p.a)(n)),n.hideChoice=n.hideChoice.bind(Object(p.a)(n)),n.filter=n.filter.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("mouseover",(function(t){e.area&&!e.area.current.contains(t.target)&&e.hideChoice(t)}))}},{key:"showChoice",value:function(e){var t=this.choice.current.classList;t.contains("invisible")?t.remove("invisible"):this.hideChoice(e)}},{key:"hideChoice",value:function(e){this.filter(e),this.choice.current.classList.add("invisible")}},{key:"filter",value:function(e){var t,a,n=this,r=document.getElementsByClassName("filter");t=Array.prototype.slice.call(r[0].getElementsByTagName("input")).filter((function(e){return e.checked})).map((function(e){return e.getAttribute("data-name")})),a=Array.prototype.slice.call(r[1].getElementsByTagName("input")).filter((function(e){return e.checked})).map((function(e){return e.getAttribute("data-name")})),N().then((function(e){return null!=t&&(e=C(e,t)),null!=a&&(e=function(e,t){var a=t.length;return e.filter((function(e){var n=0;if(t.forEach((function(t){e.Ingrediences.map((function(e){return e.Name})).includes(t)&&n++})),n==a)return e}))}(e,a)),n.props.update(e),e}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:this.area},r.a.createElement("input",{type:"text",placeholder:this.props.name,onClick:this.showChoice}),r.a.createElement("div",{id:"filter",className:v.a.choice+" invisible filter",ref:this.choice},null!=this.props.list&&this.props.list.map((function(t){return r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{"data-name":t,type:"checkbox",className:"form-check-input",onChange:e.filter}),r.a.createElement("label",{className:"form-check-label"},t))})),r.a.createElement("button",{className:"btn btn-sm btn-outline-success float-right",onClick:this.hideChoice},"Zobrazit")))}}]),a}(r.a.Component),F=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).load=n.load.bind(Object(p.a)(n)),n.state={categories:n.props.category,ingrediences:[]},n.load(),n}return Object(d.a)(a,[{key:"load",value:function(){var e=this;O("category").then((function(t){return e.setState({categories:t})})),O("ingredience").then((function(t){return e.setState({ingrediences:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"my-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement("input",{type:"text",placeholder:"N\xe1zev"})),r.a.createElement("div",{className:"col-3"},r.a.createElement(x,{list:this.state.categories,update:this.props.update,name:"Kategorie"})),r.a.createElement("div",{className:"col-3"},r.a.createElement(x,{list:this.state.ingrediences,update:this.props.update,name:"Ingredience"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement("button",{className:"btn btn-sm btn-success mt-3",onClick:this.props.search},"Vyhledat"))))}}]),a}(r.a.Component),w=a(27),I=a.n(w),_=a(12),D=(a(40),a(16)),z=a(17),A=(a(46),function(e){var t=e.ingredience,a=e.index,n=e.remove,c=e.handleChange;return r.a.createElement("div",{className:"form-group row"},r.a.createElement("input",{type:"text",className:"form-control col-4",placeholder:"n\xe1zev","data-id":a,name:"Name",value:t.Name,onChange:c}),r.a.createElement("input",{type:"text",className:"form-control col-3",placeholder:"mno\u017estv\xed","data-id":a,name:"Amount",value:t.Amount,onChange:c}),r.a.createElement("select",{className:"form-control col-2","data-id":a,name:"Unit",onChange:c,value:t.Unit},r.a.createElement("option",null),r.a.createElement("option",null,"g"),r.a.createElement("option",null,"ks"),r.a.createElement("option",null,"ml"),r.a.createElement("option",null,"dl"),r.a.createElement("option",null,"l"),r.a.createElement("option",null,"bal\xed\u010dek"),r.a.createElement("option",null,"l\u017e\xedce"),r.a.createElement("option",null,"l\u017ei\u010dka")),r.a.createElement("button",{id:a,className:"btn-sm btn-danger",onClick:n},r.a.createElement(D.a,{id:a,icon:z.c})))});A.defaultProps={};var P=A,T=(a(47),function(e){var t=e.step,a=e.id,n=e.handleChange;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Krok ",a+1),r.a.createElement("textarea",{"data-id":a,name:"step",value:t,className:"form-control",onChange:n}))});T.defaultProps={};var G=T,R=(a(19),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;if(Object(m.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n.handleSave=n.handleSave.bind(Object(p.a)(n)),n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleChangeIngredience=n.handleChangeIngredience.bind(Object(p.a)(n)),n.handleChangeStep=n.handleChangeStep.bind(Object(p.a)(n)),n.addIngredienceField=n.addIngredienceField.bind(Object(p.a)(n)),n.removeIngredienceField=n.removeIngredienceField.bind(Object(p.a)(n)),n.addStepField=n.addStepField.bind(Object(p.a)(n)),n.removeStepField=n.removeStepField.bind(Object(p.a)(n)),n.props.match.path.includes("edit")){var r=JSON.parse(localStorage.getItem("detail"));n.state={food:{name:r.Name,category:r.Category,description:r.Description,ingrediences:null!=r.Ingrediences?r.Ingrediences:[],steps:null!=r.Steps?r.Steps:[]}}}else n.state={food:{name:"",category:"",description:"",ingrediences:[],steps:[]}};return n}return Object(d.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({message:"Sending..."},this.sendFormData(!1)),this.props.history.push("/list")}},{key:"handleSave",value:function(e){e.preventDefault(),this.setState({message:"Sending..."},this.sendFormData(!0)),this.props.history.push("/list")}},{key:"handleChange",value:function(e){console.log(e.target.name);var t=this.state.food;t[e.target.name]=e.target.value,this.setState({food:t})}},{key:"handleChangeIngredience",value:function(e){var t=this.state.food,a=parseInt(e.target.getAttribute("data-id"));t.ingrediences[a][e.target.name]=e.target.value,this.setState({food:t})}},{key:"handleChangeStep",value:function(e){var t=this.state.food,a=parseInt(e.target.getAttribute("data-id"));t.steps[a].Desc=e.target.value,this.setState({food:t})}},{key:"addIngredienceField",value:function(e){var t=this.state.food;t.ingrediences.push({name:"",amount:"",unit:""}),this.setState({food:t})}},{key:"removeIngredienceField",value:function(e){console.log(e.target.id);var t=this.state.food;t.ingrediences.splice(parseInt(e.target.id),1),this.setState({food:t})}},{key:"addStepField",value:function(e){var t=this.state.food;t.steps.push({desc:""}),this.setState({food:t})}},{key:"removeStepField",value:function(e){var t=this.state.food;t.steps.pop(),this.setState({food:t})}},{key:"sendFormData",value:function(e){var t=this;setTimeout(Object(s.a)(i.a.mark((function a(){var n,r,c,o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.setState({message:"data sent!"}),n=JSON.stringify(t.state.food),console.log("BODY: "+n),r={method:"POST",headers:{"Content-Type":"application/json"},body:n},!e){a.next=10;break}return a.next=7,fetch("/update",r);case 7:a.t0=a.sent,a.next=13;break;case 10:return a.next=12,fetch("/add",r);case 12:a.t0=a.sent;case 13:return c=a.t0,a.next=16,c.json();case 16:return o=a.sent,a.abrupt("return",o);case 18:case"end":return a.stop()}}),a)}))),3e3)}},{key:"render",value:function(){var e=this,t=[],a=[];return void 0!=this.state.food.ingrediences&&(t=this.state.food.ingrediences.map((function(t,a){return r.a.createElement(P,{ingredience:t,index:a.toString(),remove:e.removeIngredienceField,handleChange:e.handleChangeIngredience})}))),void 0!=this.state.food.steps&&(a=this.state.food.steps.map((function(t,a){return r.a.createElement(G,{step:t.Desc,id:a,handleChange:e.handleChangeStep})}))),r.a.createElement("div",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-2"},"N\xe1zev"),r.a.createElement("div",{className:"col-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"Name",onChange:this.handleChange,value:this.state.food.name}))),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("div",{className:"row"},r.a.createElement("legend",{className:"col-form-label col-sm-2 pt-0"},"Radios"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"Category",value:"pol\xe9vka",onChange:this.handleChange,checked:"pol\xe9vka"===this.state.food.category}),r.a.createElement("label",{className:"form-check-label"},"Pol\xe9vka")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"Category",value:"hlavn\xed",onChange:this.handleChange,checked:"hlavn\xed"===this.state.food.category}),r.a.createElement("label",{className:"form-check-label"},"Hlavn\xed chod")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"Category",value:"dezert",onChange:this.handleChange,checked:"dezert"===this.state.food.category}),r.a.createElement("label",{className:"form-check-label"},"Dezert"))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-2"},"Popis"),r.a.createElement("div",{className:"col-10"},r.a.createElement("input",{type:"text",className:"form-control",name:"Description",onChange:this.handleChange,value:this.state.food.description}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-5"},r.a.createElement("h3",null,"Ingredience:"),t,r.a.createElement("button",{className:"btn btn-success row",onClick:this.addIngredienceField},r.a.createElement(D.a,{icon:z.b}))),r.a.createElement("div",{className:"col-7"},r.a.createElement("h3",null,"Postup:"),a,r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-danger",onClick:this.removeStepField},r.a.createElement(D.a,{icon:z.a})),r.a.createElement("button",{className:"btn btn-success",onClick:this.addStepField},r.a.createElement(D.a,{icon:z.b}))))),this.props.match.path.includes("edit")?r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSave},"Ulo\u017eit"):r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.handleSubmit},"Vytvo\u0159it"))}}]),a}(r.a.Component)),U=(a(48),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={food:{}},n.load=n.load.bind(Object(p.a)(n)),n.load(),n}return Object(d.a)(a,[{key:"load",value:function(){var e=this;(function(e){return k.apply(this,arguments)})(this.props.match.params.name).then((function(t){e.setState({food:t}),localStorage.setItem("detail",JSON.stringify(t))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.food.Name),r.a.createElement("h3",null,this.state.food.Category),r.a.createElement("p",null,this.state.food.Description),r.a.createElement("ul",null,void 0!=this.state.food.ingrediences&&this.state.food.ingrediences.map((function(e){return r.a.createElement("li",null,"i.name")}))),r.a.createElement("ul",null,void 0!=this.state.food.steps&&this.state.food.steps.map((function(e){return r.a.createElement("li",null,"s")}))),r.a.createElement(_.b,{to:"/edit/".concat(this.state.food.Name),className:"btn btn-sm btn-outline-dark"},"Upravit"))}}]),a}(r.a.Component)),B=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleRemove=n.handleRemove.bind(Object(p.a)(n)),n.load=n.load.bind(Object(p.a)(n)),n.update=n.update.bind(Object(p.a)(n)),n.state={foods:[]},n.load(),n}return Object(d.a)(a,[{key:"load",value:function(){var e=this;N().then((function(t){return C(t,e.props.match.params.category)})).then((function(t){e.setState({foods:t})}))}},{key:"handleRemove",value:function(e){!function(e){S.apply(this,arguments)}(e.target.getAttribute("data-name")),this.load()}},{key:"update",value:function(e){this.setState({foods:e})}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.load()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(F,{category:["dezerty"],update:this.update}),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"N\xe1zev"),r.a.createElement("th",{scope:"col"},"Kategorie"),r.a.createElement("th",{scope:"col"},"Ingredience"),r.a.createElement("th",{scope:"col"},"Popis"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,null!=this.state.foods&&this.state.foods.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.Name),r.a.createElement("td",null,t.Category),r.a.createElement("td",null,r.a.createElement("div",{className:"ingredience-list"},void 0!=t.Ingrediences&&t.Ingrediences.map((function(e){return r.a.createElement("label",{className:I.a.ingredience+" btn-sm btn-info"},e.Name)})))),r.a.createElement("td",null,t.Description),r.a.createElement("td",null,r.a.createElement(_.b,{to:"/detail/".concat(t.Name),className:"btn btn-sm btn-outline-dark"},"Detail"),r.a.createElement("button",{"data-name":t.Name,className:"btn btn-sm btn-danger",onClick:e.handleRemove},"Smazat")))})))))}}]),a}(r.a.Component),J=a(3),H=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={foods:[],go:""},g("/").then((function(e){n.setState({go:b(e)})})),n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(_.a,null,r.a.createElement("h1",null,this.state.go),r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample03","aria-controls":"navbarsExample03","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarsExample03"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(_.b,{className:"nav-link",to:"/list/polevka"},"Pol\xe9vky")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(_.b,{className:"nav-link",to:"/list/hlavn\xed"},"Hlavn\xed chody")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(_.b,{className:"nav-link",to:"/list/dezerty"},"Dezerty")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(_.b,{className:"nav-link",to:"/add"},"Vytvo\u0159it nov\xfd")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(_.b,{className:"nav-link",to:"/list"},"Seznam"))))),r.a.createElement("div",{className:"container mt-5"},r.a.createElement(J.c,null,r.a.createElement(J.a,{path:"/add",component:R}),r.a.createElement(J.a,{path:"/edit/:name",component:R}),r.a.createElement(J.a,{path:"/list/:category",component:B}),r.a.createElement(J.a,{path:"/detail/:name",component:U}))))}}]),a}(r.a.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.16b97ae3.chunk.js.map