{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";export var parse=function parse(data){return JSON.parse(data.content);};export function callApi(_x){return _callApi.apply(this,arguments);}/** Geters **/function _callApi(){_callApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(path){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://damp-springs-19376.herokuapp.com\"+path);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}}},_callee);}));return _callApi.apply(this,arguments);}export function getFoods(){return _getFoods.apply(this,arguments);}function _getFoods(){_getFoods=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return callApi(\"/food\");case 2:data=_context2.sent;return _context2.abrupt(\"return\",parse(data));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _getFoods.apply(this,arguments);}export function getDetail(_x2){return _getDetail.apply(this,arguments);}/**Filter functions **/function _getDetail(){_getDetail=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(name){var data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return callApi(\"/detail/\"+name);case 2:data=_context3.sent;return _context3.abrupt(\"return\",parse(data));case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _getDetail.apply(this,arguments);}export function getByName(data,name){return data.forEach(function(d){if(d.Name===name)return d;});}export function getByCategory(data,categories){return data.filter(function(d){if(categories.includes(d.Category))return d;return null;});}export function getByIngredience(data,ingredience){var len=ingredience.length;return data.filter(function(d){var n=0;ingredience.forEach(function(i){if(d.Ingrediences.map(function(x){return x.Name;}).includes(i))n++;});if(n===len)return d;return null;});}export function removeFood(_x3){return _removeFood.apply(this,arguments);}function _removeFood(){_removeFood=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(name){var data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return callApi(\"/delete/\"+name);case 2:data=_context4.sent;return _context4.abrupt(\"return\",data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _removeFood.apply(this,arguments);}export function getFilterList(_x4){return _getFilterList.apply(this,arguments);}function _getFilterList(){_getFilterList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(name){var data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return callApi(\"/filter/\"+name);case 2:data=_context5.sent;return _context5.abrupt(\"return\",data.content);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return _getFilterList.apply(this,arguments);}","map":{"version":3,"sources":["D:/programky/cook/react/cook/src/api.js"],"names":["parse","data","JSON","content","callApi","path","fetch","response","json","getFoods","getDetail","name","getByName","forEach","d","Name","getByCategory","categories","filter","includes","Category","getByIngredience","ingredience","len","length","n","i","Ingrediences","map","x","removeFood","getFilterList"],"mappings":"qTAAA,MAAO,IAAMA,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,IAAD,CAAU,CAC3B,MAAOC,CAAAA,IAAI,CAACF,KAAL,CAAWC,IAAI,CAACE,OAAhB,CAAP,CACH,CAFM,CAIP,eAAsBC,CAAAA,OAAtB,4CAaA,c,qFAbO,iBAAuBC,IAAvB,0JAOkBC,CAAAA,KAAK,CAAC,2CAA6CD,IAA9C,CAPvB,QAOCE,QAPD,qCAQcA,CAAAA,QAAQ,CAACC,IAAT,EARd,QAQCP,IARD,+CAUIA,IAVJ,wD,0CAcP,eAAsBQ,CAAAA,QAAtB,2C,uFAAO,wKACcL,CAAAA,OAAO,CAAC,OAAD,CADrB,QACCH,IADD,iDAEID,KAAK,CAACC,IAAD,CAFT,0D,2CAKP,eAAsBS,CAAAA,SAAtB,+CAKA,uB,yFALO,kBAAyBC,IAAzB,sJACcP,CAAAA,OAAO,CAAC,WAAYO,IAAb,CADrB,QACCV,IADD,iDAEID,KAAK,CAACC,IAAD,CAFT,0D,4CAOP,MAAO,SAASW,CAAAA,SAAT,CAAmBX,IAAnB,CAAyBU,IAAzB,CAA8B,CACjC,MAAOV,CAAAA,IAAI,CAACY,OAAL,CAAc,SAAAC,CAAC,CAAI,CACtB,GAAGA,CAAC,CAACC,IAAF,GAAWJ,IAAd,CACI,MAAOG,CAAAA,CAAP,CACP,CAHM,CAAP,CAIH,CAED,MAAO,SAASE,CAAAA,aAAT,CAAuBf,IAAvB,CAA6BgB,UAA7B,CAAwC,CAC3C,MAAOhB,CAAAA,IAAI,CAACiB,MAAL,CAAY,SAAAJ,CAAC,CAAI,CACpB,GAAGG,UAAU,CAACE,QAAX,CAAoBL,CAAC,CAACM,QAAtB,CAAH,CACI,MAAON,CAAAA,CAAP,CACJ,MAAO,KAAP,CACH,CAJM,CAAP,CAKH,CAED,MAAO,SAASO,CAAAA,gBAAT,CAA0BpB,IAA1B,CAAgCqB,WAAhC,CAA4C,CAC/C,GAAIC,CAAAA,GAAG,CAAGD,WAAW,CAACE,MAAtB,CACA,MAAOvB,CAAAA,IAAI,CAACiB,MAAL,CAAY,SAAAJ,CAAC,CAAI,CACpB,GAAIW,CAAAA,CAAC,CAAG,CAAR,CACAH,WAAW,CAACT,OAAZ,CAAoB,SAAAa,CAAC,CAAI,CACrB,GAAGZ,CAAC,CAACa,YAAF,CAAeC,GAAf,CAAmB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACd,IAAN,EAApB,EAAgCI,QAAhC,CAAyCO,CAAzC,CAAH,CACID,CAAC,GACR,CAHD,EAIA,GAAGA,CAAC,GAAKF,GAAT,CACI,MAAOT,CAAAA,CAAP,CACJ,MAAO,KAAP,CACH,CATM,CAAP,CAUH,CAED,eAAsBgB,CAAAA,UAAtB,gD,2FAAO,kBAA0BnB,IAA1B,sJACcP,CAAAA,OAAO,CAAC,WAAYO,IAAb,CADrB,QACCV,IADD,iDAEIA,IAFJ,0D,6CAKP,eAAsB8B,CAAAA,aAAtB,mD,iGAAO,kBAA6BpB,IAA7B,sJACcP,CAAAA,OAAO,CAAC,WAAaO,IAAd,CADrB,QACCV,IADD,iDAEIA,IAAI,CAACE,OAFT,0D","sourcesContent":["export const parse = (data) => {\r\n    return JSON.parse(data.content)\r\n}\r\n\r\nexport async function callApi(path){\r\n    /*fetch(path)\r\n        .then(async response => {\r\n            const data = await response.json();\r\n            //console.log(\"JSON: \" + data.content);\r\n            return data.content;\r\n        });*/\r\n    let response = await fetch(\"https://damp-springs-19376.herokuapp.com\" + path);\r\n    let data = await response.json()\r\n    //console.log(data)\r\n    return data;\r\n}\r\n\r\n/** Geters **/\r\nexport async function getFoods(){\r\n    let data = await callApi(\"/food\");\r\n    return parse(data);\r\n}\r\n\r\nexport async function getDetail(name){\r\n    let data = await callApi(\"/detail/\"+ name);\r\n    return parse(data);\r\n}\r\n\r\n/**Filter functions **/\r\n\r\nexport function getByName(data, name){\r\n    return data.forEach( d => {\r\n        if(d.Name === name)\r\n            return d;\r\n    })\r\n}\r\n\r\nexport function getByCategory(data, categories){\r\n    return data.filter(d => {\r\n        if(categories.includes(d.Category))\r\n            return d;\r\n        return null\r\n    })\r\n}\r\n\r\nexport function getByIngredience(data, ingredience){\r\n    let len = ingredience.length;\r\n    return data.filter(d => {\r\n        var n = 0;\r\n        ingredience.forEach(i => {\r\n            if(d.Ingrediences.map(x => x.Name).includes(i))\r\n                n++;\r\n        })\r\n        if(n === len)\r\n            return d;\r\n        return null;\r\n    })\r\n}\r\n\r\nexport async function removeFood(name){\r\n    let data = await callApi(\"/delete/\"+ name);\r\n    return data;\r\n}\r\n\r\nexport async function getFilterList(name){\r\n    let data = await callApi(\"/filter/\" + name)\r\n    return data.content;\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}