{"ast":null,"code":"var _jsxFileName = \"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\src\\\\components\\\\FilterItem\\\\FilterItem.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './FilterItem.module.css';\nimport { getByCategory, getByName, getByIngredience, getFoods } from \"../../api\";\n\nclass FilterItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.choice = React.createRef();\n    this.area = React.createRef();\n    this.showChoice = this.showChoice.bind(this);\n    this.hideChoice = this.hideChoice.bind(this);\n    this.filter = this.filter.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', e => {\n      if (this.area && !this.area.current.contains(e.target)) this.hideChoice(e);\n    });\n  }\n\n  showChoice(e) {\n    const classlist = this.choice.current.classList;\n    if (classlist.contains(\"invisible\")) classlist.remove(\"invisible\");else this.hideChoice(e);\n  }\n\n  hideChoice(e) {\n    this.filter(e);\n    this.choice.current.classList.add(\"invisible\");\n  }\n\n  filter(e) {\n    let f = document.getElementsByClassName(\"filter\");\n    let category,\n        ingredience,\n        name = null;\n    category = Array.prototype.slice.call(f[0].getElementsByTagName(\"input\")).filter(e => e.checked).map(e => e.getAttribute(\"data-name\"));\n    ingredience = Array.prototype.slice.call(f[1].getElementsByTagName(\"input\")).filter(e => e.checked).map(e => e.getAttribute(\"data-name\"));\n    getFoods().then(data => {\n      if (name != null) data = getByName(data, name);\n      if (category != null) data = getByCategory(data, category);\n      if (ingredience != null) data = getByIngredience(data, ingredience);\n      this.props.update(data);\n      return data;\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.area,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: this.props.name,\n      onClick: this.showChoice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"filter\",\n      className: styles.choice + \" invisible filter\",\n      ref: this.choice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, this.props.list != null && this.props.list.map(item => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-check\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        \"data-name\": item,\n        type: \"checkbox\",\n        className: \"form-check-input\",\n        onChange: this.filter,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 41\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-check-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 41\n        }\n      }, item));\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.hideChoice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, \"Zobrazit\")));\n  }\n\n}\n\nexport default FilterItem;","map":{"version":3,"sources":["D:/programky/cook/react/cook/src/components/FilterItem/FilterItem.js"],"names":["React","PropTypes","styles","getByCategory","getByName","getByIngredience","getFoods","FilterItem","Component","constructor","props","choice","createRef","area","showChoice","bind","hideChoice","filter","componentDidMount","document","addEventListener","e","current","contains","target","classlist","classList","remove","add","f","getElementsByClassName","category","ingredience","name","Array","prototype","slice","call","getElementsByTagName","checked","map","getAttribute","then","data","update","render","list","item"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './FilterItem.module.css';\nimport {getByCategory, getByName, getByIngredience, getFoods} from \"../../api\";\n\nclass FilterItem extends React.Component{\n    constructor(props) {\n        super(props);\n        this.choice = React.createRef();\n        this.area = React.createRef();\n        this.showChoice = this.showChoice.bind(this);\n        this.hideChoice = this.hideChoice.bind(this);\n        this.filter = this.filter.bind(this);\n    }\n\n    componentDidMount() {\n        document.addEventListener('mousedown', (e) => {\n            if(this.area && !this.area.current.contains(e.target))\n                this.hideChoice(e);\n        });\n    }\n\n    showChoice(e){\n        const classlist = this.choice.current.classList\n        if(classlist.contains(\"invisible\"))\n            classlist.remove(\"invisible\");\n        else\n            this.hideChoice(e);\n    }\n\n    hideChoice(e){\n        this.filter(e);\n        this.choice.current.classList.add(\"invisible\");\n    }\n\n    filter(e){\n        let f = document.getElementsByClassName(\"filter\");\n        let category, ingredience, name = null;\n        category = Array.prototype.slice.call(f[0].getElementsByTagName(\"input\")).filter(e => e.checked).map(e => e.getAttribute(\"data-name\"));\n        ingredience = Array.prototype.slice.call(f[1].getElementsByTagName(\"input\")).filter(e => e.checked).map(e => e.getAttribute(\"data-name\"));\n        getFoods().then(data => {\n            if (name != null)\n                data = getByName(data, name);\n            if (category != null)\n                data = getByCategory(data, category);\n            if (ingredience != null)\n                data = getByIngredience(data, ingredience);\n            this.props.update(data);\n            return data;\n        })\n    }\n\n    render() {\n        return (\n            <div ref={this.area}>\n                <input type=\"text\" placeholder={this.props.name} onClick={this.showChoice}/>\n                    <div id=\"filter\" className={styles.choice + \" invisible filter\"} ref={this.choice}>\n                        {\n                            this.props.list != null &&\n                            this.props.list.map(item => {\n                                return(\n                                    <div className=\"form-check\">\n                                        <input data-name={item} type=\"checkbox\" className=\"form-check-input\" onChange={this.filter}/>\n                                        <label className=\"form-check-label\">{item}</label>\n                                    </div>\n                                );\n                            })\n                        }\n\n                        <button onClick={this.hideChoice}>Zobrazit</button>\n                    </div>\n            </div>\n        );\n    }\n}\n\nexport default FilterItem;\n"]},"metadata":{},"sourceType":"module"}