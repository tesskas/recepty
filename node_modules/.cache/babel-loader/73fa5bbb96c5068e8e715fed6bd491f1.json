{"ast":null,"code":"export const parse = data => {\n  return JSON.parse(data.content);\n};\nexport async function callApi(path) {\n  /*fetch(path)\r\n      .then(async response => {\r\n          const data = await response.json();\r\n          //console.log(\"JSON: \" + data.content);\r\n          return data.content;\r\n      });*/\n  let response = await fetch(\"https://damp-springs-19376.herokuapp.com\" + path, {\n    cache: 'no-cache',\n    // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: 'same-origin',\n    // include, *same-origin, omit\n    mode: 'no-cors'\n  });\n  let data = await response.json();\n  return data;\n}\n/** Geters **/\n\nexport async function getFoods() {\n  let data = await callApi(\"/food\");\n  return parse(data);\n}\nexport async function getDetail(name) {\n  let data = await callApi(\"/detail/\" + name);\n  return parse(data);\n}\n/**Filter functions **/\n\nexport function getByName(data, name) {\n  return data.forEach(d => {\n    if (d.Name == name) return d;\n  });\n}\nexport function getByCategory(data, categories) {\n  return data.filter(d => {\n    if (categories.includes(d.Category)) return d;\n  });\n}\nexport function getByIngredience(data, ingredience) {\n  let len = ingredience.length;\n  return data.filter(d => {\n    var n = 0;\n    ingredience.forEach(i => {\n      if (d.Ingrediences.map(x => x.Name).includes(i)) n++;\n    });\n    if (n == len) return d;\n  });\n}\nexport async function removeFood(name) {\n  let data = await callApi(\"/delete/\" + name);\n  return data;\n}\nexport async function getFilterList(name) {\n  let data = await callApi(\"/filter/\" + name);\n  return data.content;\n}","map":{"version":3,"sources":["D:/programky/cook/react/cook/src/api.js"],"names":["parse","data","JSON","content","callApi","path","response","fetch","cache","credentials","mode","json","getFoods","getDetail","name","getByName","forEach","d","Name","getByCategory","categories","filter","includes","Category","getByIngredience","ingredience","len","length","n","i","Ingrediences","map","x","removeFood","getFilterList"],"mappings":"AAAA,OAAO,MAAMA,KAAK,GAAIC,IAAD,IAAU;AAC3B,SAAOC,IAAI,CAACF,KAAL,CAAWC,IAAI,CAACE,OAAhB,CAAP;AACH,CAFM;AAIP,OAAO,eAAeC,OAAf,CAAuBC,IAAvB,EAA4B;AAC/B;;;;;;AAMA,MAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6CAA6CF,IAA9C,EAAmD;AACzEG,IAAAA,KAAK,EAAE,UADkE;AACtD;AACnBC,IAAAA,WAAW,EAAE,aAF4D;AAE7C;AAC5BC,IAAAA,IAAI,EAAE;AAHmE,GAAnD,CAA1B;AAKA,MAAIT,IAAI,GAAG,MAAMK,QAAQ,CAACK,IAAT,EAAjB;AACA,SAAOV,IAAP;AACH;AAED;;AACA,OAAO,eAAeW,QAAf,GAAyB;AAC5B,MAAIX,IAAI,GAAG,MAAMG,OAAO,CAAC,OAAD,CAAxB;AACA,SAAOJ,KAAK,CAACC,IAAD,CAAZ;AACH;AAED,OAAO,eAAeY,SAAf,CAAyBC,IAAzB,EAA8B;AACjC,MAAIb,IAAI,GAAG,MAAMG,OAAO,CAAC,aAAYU,IAAb,CAAxB;AACA,SAAOd,KAAK,CAACC,IAAD,CAAZ;AACH;AAED;;AAEA,OAAO,SAASc,SAAT,CAAmBd,IAAnB,EAAyBa,IAAzB,EAA8B;AACjC,SAAOb,IAAI,CAACe,OAAL,CAAcC,CAAC,IAAI;AACtB,QAAGA,CAAC,CAACC,IAAF,IAAUJ,IAAb,EACI,OAAOG,CAAP;AACP,GAHM,CAAP;AAIH;AAED,OAAO,SAASE,aAAT,CAAuBlB,IAAvB,EAA6BmB,UAA7B,EAAwC;AAC3C,SAAOnB,IAAI,CAACoB,MAAL,CAAYJ,CAAC,IAAI;AACpB,QAAGG,UAAU,CAACE,QAAX,CAAoBL,CAAC,CAACM,QAAtB,CAAH,EACI,OAAON,CAAP;AACP,GAHM,CAAP;AAIH;AAED,OAAO,SAASO,gBAAT,CAA0BvB,IAA1B,EAAgCwB,WAAhC,EAA4C;AAC/C,MAAIC,GAAG,GAAGD,WAAW,CAACE,MAAtB;AACA,SAAO1B,IAAI,CAACoB,MAAL,CAAYJ,CAAC,IAAI;AACpB,QAAIW,CAAC,GAAG,CAAR;AACAH,IAAAA,WAAW,CAACT,OAAZ,CAAoBa,CAAC,IAAI;AACrB,UAAGZ,CAAC,CAACa,YAAF,CAAeC,GAAf,CAAmBC,CAAC,IAAIA,CAAC,CAACd,IAA1B,EAAgCI,QAAhC,CAAyCO,CAAzC,CAAH,EACID,CAAC;AACR,KAHD;AAIA,QAAGA,CAAC,IAAIF,GAAR,EACI,OAAOT,CAAP;AACP,GARM,CAAP;AASH;AAED,OAAO,eAAegB,UAAf,CAA0BnB,IAA1B,EAA+B;AAClC,MAAIb,IAAI,GAAG,MAAMG,OAAO,CAAC,aAAYU,IAAb,CAAxB;AACA,SAAOb,IAAP;AACH;AAED,OAAO,eAAeiC,aAAf,CAA6BpB,IAA7B,EAAkC;AACrC,MAAIb,IAAI,GAAG,MAAMG,OAAO,CAAC,aAAaU,IAAd,CAAxB;AACA,SAAOb,IAAI,CAACE,OAAZ;AACH","sourcesContent":["export const parse = (data) => {\r\n    return JSON.parse(data.content)\r\n}\r\n\r\nexport async function callApi(path){\r\n    /*fetch(path)\r\n        .then(async response => {\r\n            const data = await response.json();\r\n            //console.log(\"JSON: \" + data.content);\r\n            return data.content;\r\n        });*/\r\n    let response = await fetch(\"https://damp-springs-19376.herokuapp.com\" + path,{\r\n        cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n        credentials: 'same-origin', // include, *same-origin, omit\r\n        mode: 'no-cors',\r\n    });\r\n    let data = await response.json()\r\n    return data;\r\n}\r\n\r\n/** Geters **/\r\nexport async function getFoods(){\r\n    let data = await callApi(\"/food\");\r\n    return parse(data);\r\n}\r\n\r\nexport async function getDetail(name){\r\n    let data = await callApi(\"/detail/\"+ name);\r\n    return parse(data);\r\n}\r\n\r\n/**Filter functions **/\r\n\r\nexport function getByName(data, name){\r\n    return data.forEach( d => {\r\n        if(d.Name == name)\r\n            return d;\r\n    })\r\n}\r\n\r\nexport function getByCategory(data, categories){\r\n    return data.filter(d => {\r\n        if(categories.includes(d.Category))\r\n            return d;\r\n    })\r\n}\r\n\r\nexport function getByIngredience(data, ingredience){\r\n    let len = ingredience.length;\r\n    return data.filter(d => {\r\n        var n = 0;\r\n        ingredience.forEach(i => {\r\n            if(d.Ingrediences.map(x => x.Name).includes(i))\r\n                n++;\r\n        })\r\n        if(n == len)\r\n            return d;\r\n    })\r\n}\r\n\r\nexport async function removeFood(name){\r\n    let data = await callApi(\"/delete/\"+ name);\r\n    return data;\r\n}\r\n\r\nexport async function getFilterList(name){\r\n    let data = await callApi(\"/filter/\" + name)\r\n    return data.content;\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}