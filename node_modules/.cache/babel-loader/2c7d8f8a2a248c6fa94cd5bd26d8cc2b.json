{"ast":null,"code":"import _classCallCheck from\"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import styles from'./FilterItem.module.css';import{getByCategory,getByName,getByIngredience,getFoods}from\"../../api\";var FilterItem=/*#__PURE__*/function(_React$Component){_inherits(FilterItem,_React$Component);var _super=_createSuper(FilterItem);function FilterItem(props){var _this;_classCallCheck(this,FilterItem);_this=_super.call(this,props);_this.choice=React.createRef();_this.area=React.createRef();_this.showChoice=_this.showChoice.bind(_assertThisInitialized(_this));_this.hideChoice=_this.hideChoice.bind(_assertThisInitialized(_this));_this.filter=_this.filter.bind(_assertThisInitialized(_this));return _this;}_createClass(FilterItem,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;document.addEventListener('mouseover',function(e){if(_this2.area&&!_this2.area.current.contains(e.target))_this2.hideChoice(e);});}},{key:\"showChoice\",value:function showChoice(e){var classlist=this.choice.current.classList;if(classlist.contains(\"invisible\"))classlist.remove(\"invisible\");else this.hideChoice(e);}},{key:\"hideChoice\",value:function hideChoice(e){this.filter(e);this.choice.current.classList.add(\"invisible\");}},{key:\"filter\",value:function filter(e){var _this3=this;var f=document.getElementsByClassName(\"filter\");var category,ingredience,name=null;category=Array.prototype.slice.call(f[0].getElementsByTagName(\"input\")).filter(function(e){return e.checked;}).map(function(e){return e.getAttribute(\"data-name\");});ingredience=Array.prototype.slice.call(f[1].getElementsByTagName(\"input\")).filter(function(e){return e.checked;}).map(function(e){return e.getAttribute(\"data-name\");});getFoods().then(function(data){if(name!=null)data=getByName(data,name);if(category!=null)data=getByCategory(data,category);if(ingredience!=null)data=getByIngredience(data,ingredience);_this3.props.update(data);return data;});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(\"div\",{ref:this.area},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:this.props.name,onClick:this.showChoice}),/*#__PURE__*/React.createElement(\"div\",{id:\"filter\",className:styles.choice+\" invisible filter\",ref:this.choice},this.props.list!=null&&this.props.list.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"form-check\"},/*#__PURE__*/React.createElement(\"input\",{\"data-name\":item,type:\"checkbox\",className:\"form-check-input\",onChange:_this4.filter}),/*#__PURE__*/React.createElement(\"label\",{className:\"form-check-label\"},item));}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-outline-success float-right\",onClick:this.hideChoice},\"Zobrazit\")));}}]);return FilterItem;}(React.Component);export default FilterItem;","map":{"version":3,"sources":["D:/programky/cook/react/cook/src/components/FilterItem/FilterItem.js"],"names":["React","styles","getByCategory","getByName","getByIngredience","getFoods","FilterItem","props","choice","createRef","area","showChoice","bind","hideChoice","filter","document","addEventListener","e","current","contains","target","classlist","classList","remove","add","f","getElementsByClassName","category","ingredience","name","Array","prototype","slice","call","getElementsByTagName","checked","map","getAttribute","then","data","update","list","item","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styles from './FilterItem.module.css';\nimport {getByCategory, getByName, getByIngredience, getFoods} from \"../../api\";\n\nclass FilterItem extends React.Component{\n    constructor(props) {\n        super(props);\n        this.choice = React.createRef();\n        this.area = React.createRef();\n        this.showChoice = this.showChoice.bind(this);\n        this.hideChoice = this.hideChoice.bind(this);\n        this.filter = this.filter.bind(this);\n    }\n\n    componentDidMount() {\n        document.addEventListener('mouseover', (e) => {\n            if(this.area && !this.area.current.contains(e.target))\n                this.hideChoice(e);\n        });\n    }\n\n    showChoice(e){\n        const classlist = this.choice.current.classList\n        if(classlist.contains(\"invisible\"))\n            classlist.remove(\"invisible\");\n        else\n            this.hideChoice(e);\n    }\n\n    hideChoice(e){\n        this.filter(e);\n        this.choice.current.classList.add(\"invisible\");\n    }\n\n    filter(e){\n        let f = document.getElementsByClassName(\"filter\");\n        let category, ingredience, name = null;\n        category = Array.prototype.slice.call(f[0].getElementsByTagName(\"input\")).filter(e => e.checked).map(e => e.getAttribute(\"data-name\"));\n        ingredience = Array.prototype.slice.call(f[1].getElementsByTagName(\"input\")).filter(e => e.checked).map(e => e.getAttribute(\"data-name\"));\n        getFoods().then(data => {\n            if (name != null)\n                data = getByName(data, name);\n            if (category != null)\n                data = getByCategory(data, category);\n            if (ingredience != null)\n                data = getByIngredience(data, ingredience);\n            this.props.update(data);\n            return data;\n        })\n    }\n\n    render() {\n        return (\n            <div ref={this.area}>\n                <input type=\"text\" placeholder={this.props.name} onClick={this.showChoice}/>\n                    <div id=\"filter\" className={styles.choice + \" invisible filter\"} ref={this.choice}>\n                        {\n                            this.props.list != null &&\n                            this.props.list.map(item => {\n                                return(\n                                    <div className=\"form-check\">\n                                        <input data-name={item} type=\"checkbox\" className=\"form-check-input\" onChange={this.filter}/>\n                                        <label className=\"form-check-label\">{item}</label>\n                                    </div>\n                                );\n                            })\n                        }\n\n                        <button className=\"btn btn-sm btn-outline-success float-right\" onClick={this.hideChoice}>Zobrazit</button>\n                    </div>\n            </div>\n        );\n    }\n}\n\nexport default FilterItem;\n"]},"metadata":{},"sourceType":"module"}