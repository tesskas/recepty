{"ast":null,"code":"import _classCallCheck from\"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\programky\\\\cook\\\\react\\\\cook\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import styles from'./List.module.css';import{Link,Route,Switch}from\"react-router-dom\";import{getByCategory,getFoods,removeFood}from\"../../api\";import Form from\"../Form/Form\";import Detail from\"../Detail/Detail\";import Filter from\"../Filter/Filter\";var List=/*#__PURE__*/function(_React$Component){_inherits(List,_React$Component);var _super=_createSuper(List);function List(props){var _this;_classCallCheck(this,List);_this=_super.call(this,props);_this.handleRemove=_this.handleRemove.bind(_assertThisInitialized(_this));_this.load=_this.load.bind(_assertThisInitialized(_this));_this.update=_this.update.bind(_assertThisInitialized(_this));_this.state={foods:[]};_this.load();return _this;}_createClass(List,[{key:\"load\",value:function load(){var _this2=this;getFoods().then(function(data){return getByCategory(data,_this2.props.match.params.category);}).then(function(data){_this2.setState({foods:data});});}},{key:\"handleRemove\",value:function handleRemove(e){removeFood(e.target.getAttribute(\"data-name\"));this.load();}},{key:\"update\",value:function update(data){this.setState({foods:data});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.location!==prevProps.location){this.load();}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Filter,{category:[\"dezerty\"],update:this.update}),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"N\\xE1zev\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Kategorie\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Ingredience\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Popis\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"}))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.foods!=null&&this.state.foods.map(function(f){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,f.Name),/*#__PURE__*/React.createElement(\"td\",null,f.Category),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"ingredience-list\"},f.Ingrediences!=undefined&&f.Ingrediences.map(function(i){return/*#__PURE__*/React.createElement(\"label\",{className:styles.ingredience+\" btn-sm btn-info\"},i.Name);}))),/*#__PURE__*/React.createElement(\"td\",null,f.Description),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/detail/\".concat(f.Name),className:\"btn btn-sm btn-outline-dark\"},\"Detail\"),/*#__PURE__*/React.createElement(\"button\",{\"data-name\":f.Name,className:\"btn btn-sm btn-danger\",onClick:_this3.handleRemove},\"Smazat\")));}))));}}]);return List;}(React.Component);export default List;","map":{"version":3,"sources":["D:/programky/cook/react/cook/src/components/List/List.js"],"names":["React","styles","Link","Route","Switch","getByCategory","getFoods","removeFood","Form","Detail","Filter","List","props","handleRemove","bind","load","update","state","foods","then","data","match","params","category","setState","e","target","getAttribute","prevProps","location","map","f","Name","Category","Ingrediences","undefined","i","ingredience","Description","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './List.module.css';\nimport {Link, Route, Switch} from \"react-router-dom\";\nimport {getByCategory, getFoods, removeFood} from \"../../api\";\nimport Form from \"../Form/Form\";\nimport Detail from \"../Detail/Detail\";\nimport Filter from \"../Filter/Filter\";\n\nclass List extends React.Component{\n    constructor(props) {\n        super(props);\n\n        this.handleRemove = this.handleRemove.bind(this);\n        this.load = this.load.bind(this);\n        this.update = this.update.bind(this);\n\n        this.state = { foods: []}\n        this.load();\n    }\n\n    load(){\n        getFoods()\n            .then(data => {\n                return getByCategory(data, this.props.match.params.category);\n            })\n            .then( data => {\n                this.setState({foods: data})\n            });\n    }\n\n    handleRemove(e){\n        removeFood(e.target.getAttribute(\"data-name\"));\n        this.load();\n    }\n\n    update(data){\n        this.setState({foods: data})\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.location !== prevProps.location) {\n            this.load();\n        }\n    }\n\n    render(){\n        return(\n            <div>\n                <Filter category={[\"dezerty\"]} update={this.update}/>\n                <table className=\"table\">\n                    <thead className=\"thead-dark\">\n                    <tr>\n                        <th scope=\"col\">NÃ¡zev</th>\n                        <th scope=\"col\">Kategorie</th>\n                        <th scope=\"col\">Ingredience</th>\n                        <th scope=\"col\">Popis</th>\n                        <th scope=\"col\"></th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {\n                        this.state.foods != null &&\n                        this.state.foods.map(f => {\n                            return(\n                                <tr>\n                                    <td>{f.Name}</td>\n                                    <td>{f.Category}</td>\n                                    <td>\n                                        <div className=\"ingredience-list\">\n                                            {\n                                                f.Ingrediences != undefined &&\n                                                f.Ingrediences.map(i => <label className={styles.ingredience + \" btn-sm btn-info\"}>{i.Name}</label>)\n                                            }\n                                        </div>\n                                    </td>\n                                    <td>{f.Description}</td>\n                                    <td>\n                                        <Link to={`/detail/${f.Name}`} className=\"btn btn-sm btn-outline-dark\">Detail</Link>\n                                        <button data-name={f.Name} className=\"btn btn-sm btn-danger\" onClick={this.handleRemove}>Smazat</button>\n                                    </td>\n                                </tr>\n                                );\n                        })\n                    }\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\nexport default List;\n"]},"metadata":{},"sourceType":"module"}